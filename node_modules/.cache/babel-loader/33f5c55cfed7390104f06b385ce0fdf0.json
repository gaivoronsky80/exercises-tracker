{"ast":null,"code":"import _classCallCheck from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/webdeveloper/Documents/React/exercise-tracker/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';var Exercise=function Exercise(props){return React.createElement(\"tr\",null,React.createElement(\"td\",null,props.exercise.username),React.createElement(\"td\",null,props.exercise.description),React.createElement(\"td\",null,props.exercise.duration),React.createElement(\"td\",null,props.exercise.date.substring(0,10)),React.createElement(\"td\",null,React.createElement(Link,{to:\"/edit/\"+props.exercise._id},\"edit\"),\" | \",React.createElement(\"a\",{href:\"*\",onClick:function onClick(){props.deleteExercise(props.exercise._id);}},\"delete\")));};var ExercisesList=/*#__PURE__*/function(_Component){_inherits(ExercisesList,_Component);function ExercisesList(props){var _this;_classCallCheck(this,ExercisesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExercisesList).call(this,props));_this.deleteExercise=_this.deleteExercise.bind(_assertThisInitialized(_this));_this.state={exercises:[]};return _this;}_createClass(ExercisesList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/exercises/').then(function(response){_this2.setState({exercises:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteExercise\",value:function deleteExercise(id){axios.delete('http://localhost:5000/exercises/'+id).then(function(response){console.log(response.data);});this.setState({exercises:this.state.exercises.filter(function(el){return el._id!==id;})});}},{key:\"exerciseList\",value:function exerciseList(){var _this3=this;return this.state.exercises.map(function(currentexercise){return React.createElement(Exercise,{exercise:currentexercise,deleteExercise:_this3.deleteExercise,key:currentexercise._id});});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h3\",null,\"Logged Exercises\"),React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",{className:\"thead-light\"},React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Username\"),React.createElement(\"th\",null,\"Description\"),React.createElement(\"th\",null,\"Duration\"),React.createElement(\"th\",null,\"Date\"),React.createElement(\"th\",null,\"Actions\"))),React.createElement(\"tbody\",null,this.exerciseList())));}}]);return ExercisesList;}(Component);export{ExercisesList as default};","map":{"version":3,"sources":["/Users/webdeveloper/Documents/React/exercise-tracker/src/components/exercises-list.component.js"],"names":["React","Component","Link","axios","Exercise","props","exercise","username","description","duration","date","substring","_id","deleteExercise","ExercisesList","bind","state","exercises","get","then","response","setState","data","catch","error","console","log","id","delete","filter","el","map","currentexercise","exerciseList"],"mappings":"w0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,QACpB,+BACE,8BAAKA,KAAK,CAACC,QAAN,CAAeC,QAApB,CADF,CAEE,8BAAKF,KAAK,CAACC,QAAN,CAAeE,WAApB,CAFF,CAGE,8BAAKH,KAAK,CAACC,QAAN,CAAeG,QAApB,CAHF,CAIE,8BAAKJ,KAAK,CAACC,QAAN,CAAeI,IAAf,CAAoBC,SAApB,CAA8B,CAA9B,CAAgC,EAAhC,CAAL,CAJF,CAKE,8BACE,oBAAC,IAAD,EAAM,EAAE,CAAE,SAASN,KAAK,CAACC,QAAN,CAAeM,GAAlC,SADF,OACuD,yBAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,kBAAM,CAAEP,KAAK,CAACQ,cAAN,CAAqBR,KAAK,CAACC,QAAN,CAAeM,GAApC,EAA0C,CAAvE,WADvD,CALF,CADoB,EAAtB,C,GAYqBE,CAAAA,a,uEACnB,uBAAYT,KAAZ,CAAmB,+CACjB,+EAAMA,KAAN,GAEA,MAAKQ,cAAL,CAAsB,MAAKA,cAAL,CAAoBE,IAApB,+BAAtB,CAEA,MAAKC,KAAL,CAAa,CAACC,SAAS,CAAE,EAAZ,CAAb,CALiB,aAMlB,C,uFAEmB,iBAClBd,KAAK,CAACe,GAAN,CAAU,kCAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,MAAI,CAACC,QAAL,CAAc,CAAEJ,SAAS,CAAEG,QAAQ,CAACE,IAAtB,CAAd,EACD,CAHH,EAIGC,KAJH,CAIS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CANH,EAOD,C,sDAEcG,E,CAAI,CACjBxB,KAAK,CAACyB,MAAN,CAAa,mCAAmCD,EAAhD,EACGR,IADH,CACQ,SAAAC,QAAQ,CAAI,CAAEK,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB,EAA2B,CADjD,EAGA,KAAKD,QAAL,CAAc,CACZJ,SAAS,CAAE,KAAKD,KAAL,CAAWC,SAAX,CAAqBY,MAArB,CAA4B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAAClB,GAAH,GAAWe,EAAf,EAA9B,CADC,CAAd,EAGD,C,mDAEc,iBACb,MAAO,MAAKX,KAAL,CAAWC,SAAX,CAAqBc,GAArB,CAAyB,SAAAC,eAAe,CAAI,CACjD,MAAO,qBAAC,QAAD,EAAU,QAAQ,CAAEA,eAApB,CAAqC,cAAc,CAAE,MAAI,CAACnB,cAA1D,CAA0E,GAAG,CAAEmB,eAAe,CAACpB,GAA/F,EAAP,CACD,CAFM,CAAP,CAGD,C,uCAEQ,CACP,MACE,gCACE,iDADF,CAEE,6BAAO,SAAS,CAAC,OAAjB,EACE,6BAAO,SAAS,CAAC,aAAjB,EACE,8BACE,yCADF,CAEE,4CAFF,CAGE,yCAHF,CAIE,qCAJF,CAKE,wCALF,CADF,CADF,CAUE,iCACI,KAAKqB,YAAL,EADJ,CAVF,CAFF,CADF,CAmBD,C,2BAtDwChC,S,SAAtBa,a","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Exercise = props => (\n  <tr>\n    <td>{props.exercise.username}</td>\n    <td>{props.exercise.description}</td>\n    <td>{props.exercise.duration}</td>\n    <td>{props.exercise.date.substring(0,10)}</td>\n    <td>\n      <Link to={\"/edit/\"+props.exercise._id}>edit</Link> | <a href=\"*\" onClick={() => { props.deleteExercise(props.exercise._id) }}>delete</a>\n    </td>\n  </tr>\n)\n\nexport default class ExercisesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteExercise = this.deleteExercise.bind(this)\n\n    this.state = {exercises: []};\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/exercises/')\n      .then(response => {\n        this.setState({ exercises: response.data })\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  deleteExercise(id) {\n    axios.delete('http://localhost:5000/exercises/'+id)\n      .then(response => { console.log(response.data)});\n\n    this.setState({\n      exercises: this.state.exercises.filter(el => el._id !== id)\n    })\n  }\n\n  exerciseList() {\n    return this.state.exercises.map(currentexercise => {\n      return <Exercise exercise={currentexercise} deleteExercise={this.deleteExercise} key={currentexercise._id}/>;\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Logged Exercises</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Username</th>\n              <th>Description</th>\n              <th>Duration</th>\n              <th>Date</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.exerciseList() }\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}